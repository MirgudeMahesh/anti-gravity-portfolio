DevOps Journey: Level 1 - Production-Ready MERN Pipeline (Complete Beginner â†’ Pro Guide)
ğŸ¤” What is DevOps? (2 Minutes)
DevOps = Developers + Operations
Automate the boring stuff so you just code â†’ push â†’ LIVE.

text
Before: Code â†’ Email server team â†’ Wait 2 days â†’ "It's broken"
After: git push â†’ 30 seconds â†’ Live for all users
This guide: MERN apps â†’ Production (no Jenkins/K8s needed)

ğŸ¯ Two Levels Overview
Level 1 (Small/Medium Apps) âœ… THIS GUIDE
text
GitHub Actions â†’ Docker Hub â†’ Docker Compose â†’ EC2 + MongoDB Atlas
Cost: $8/month | Time: 1 hour setup

Level 2 (Enterprise - Later)
text
Jenkins + K8s + ArgoCD + Monitoring
For millions of users.

ğŸ“‹ Complete Architecture (3 Repos)
text
Repo 1: chatapp-backend     â†’ Builds API Docker image
Repo 2: chatapp-frontend    â†’ Builds React Docker image  
Repo 3: chatappinfra        â†’ Deploys to EC2
Full Flow:

text
git push â†’ CI builds â†’ Docker Hub â†’ CD deploys â†’ LIVE
ğŸ”§ PART 1: Local Docker Setup (Test First)
Project Structure
text
chatapp/
â”œâ”€â”€ backend/          # Node.js API + Dockerfile
â”œâ”€â”€ frontend/         # React + Dockerfile
â””â”€â”€ dockerinfra/
    â”œâ”€â”€ docker-compose.yml
    â””â”€â”€ nginx.conf      # Reverse proxy magic
Critical Fix: localhost:8000 â†’ Production
text
âŒ Wrong: fetch('localhost:8000/api')
âœ… Right: fetch('/api/users')  // Nginx routes it
nginx.conf does this:

text
yoursite.com/      â†’ Serve React files
yoursite.com/api/* â†’ Forward to backend
Local Test:

bash
cd dockerinfra
docker-compose up --build
Visit: http://localhost âœ… No more localhost errors!

ğŸš€ PART 2: Continuous Integration (CI) âœ… COMPLETED
Backend CI (.github/workflows/backend-ci.yml)
text
git push â†’ npm install â†’ npm test â†’ Docker build â†’ Docker Hub
Frontend CI (.github/workflows/frontend-ci.yml)
text
git push â†’ npm install â†’ npm run build â†’ Docker â†’ Docker Hub
GitHub Secrets Needed:
text
DOCKERHUB_USERNAME
DOCKERHUB_TOKEN
Result: Docker Hub = always-fresh app images.

âš™ï¸ PART 3: Continuous Deployment (CD) â³ NEXT
Infra Repo (chatappinfra/.github/workflows/cd.yml)
text
Click Deploy â†’ SSH to EC2 â†’ docker-compose pull â†’ docker-compose up -d
Production docker-compose.yml
text
services:
  frontend:  yourusername/chatapp-frontend:latest
  backend:   yourusername/chatapp-backend:latest
  nginx:     Routes everything perfectly
EC2 One-Time Setup (10 minutes)
bash
# On EC2:
sudo apt install docker.io docker-compose
git clone https://github.com/you/chatappinfra
cd chatappinfra
echo "MONGODB_URI=..." > .env
docker-compose up -d
GitHub Secrets for CD:
text
EC2_HOST=your-ec2-ip
EC2_USER=ubuntu
EC2_SSH_KEY=-----BEGIN RSA-----
ğŸ› ï¸ All Code Files (Copy-Paste Ready)
Backend Dockerfile
text
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 8000
CMD ["npm", "start"]
Frontend Dockerfile
text
FROM node:18 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
EXPOSE 80
nginx.conf (Production Reverse Proxy)
text
events {}
http {
  server {
    listen 80;
    location / { root /usr/share/nginx/html; try_files $uri /index.html; }
    location /api/ { proxy_pass http://backend:8000/; }
  }
}
ğŸ’° Monthly Costs
Service	Cost
EC2 t3.micro	$7.50
MongoDB Atlas	$0
Docker Hub	$0
Domain	$1
Total	$8.50
ğŸ“Š Status Dashboard
Stage	Status	Notes
Local Docker	âœ… Ready	docker-compose up works
Backend CI	âœ… Live	Images auto-build
Frontend CI	âœ… Live	Images auto-build
EC2 Deploy	â³ Pending	Launch server
Production URL	â³ Pending	Get domain
ğŸ‰ Go Live: 3 Steps (30 Minutes)
Step 1: Launch EC2
text
AWS Console â†’ EC2 â†’ t3.micro Ubuntu
Security: HTTP(80), SSH(22)
Note public IP
Step 2: Deploy Infra
bash
ssh ubuntu@your-ec2-ip
# Install Docker, clone infra repo, docker-compose up -d
Step 3: Test Production
text
Visit http://your-ec2-ip
âœ… All APIs work via /api/*
âœ… Zero localhost issues
Step 4: Auto-Deploy
text
Add EC2 secrets to GitHub â†’ Click Deploy button
Future: Webhook auto-triggers
ğŸ”® What Happens Next?
text
git push main â†’ 30 seconds â†’ LIVE worldwide
Users see changes instantly
Zero server maintenance
Handles 10,000+ users easily
Add later: Domain (Namecheap), SSL (free Let's Encrypt), monitoring.